<!DOCTYPE html>
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
    <link rel="icon" type="image/png" href="/images/favicon.png" />
<link rel="shortcut icon" type="image/png" href="/images/favicon.png" />

    
    
    <title>JTAG for the ESP made as Easy as Possible - Jacob Bokor</title>
    
    
    <meta name="author" content="Jacob Bokor" /> 
     
    
    <meta name="description" content="Engineer &amp; Student fascinated with embedded systems, low-level software, and everything to do with the hardware-software interface." /> 
    
    
    <meta name="keywords" content="Blog, JTAG, PCB, Hardware" />
    
    <meta property="og:title" content="JTAG for the ESP made as Easy as Possible" />
<meta property="og:description" content="Adapter connected to PCB with SOICbite (Click image for Repo link!)
ESP-PROG Adapter Github Repo
One of the things I&#39;ve noticed in maker communities working with MCUs like the ESP32 is how infrequently hobbyists include JTAG in their projects.
This is understandable, since I didn&#39;t start including it on my own hobby projects until I started working in embedded SwE. Plus, the process of figuring out how to set it up and get the pinout right can be kind of daunting." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/esp-jtag-adapter/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-01T10:17:11-08:00" />
<meta property="article:modified_time" content="2024-03-01T10:17:11-08:00" />


    <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="JTAG for the ESP made as Easy as Possible"/>
<meta name="twitter:description" content="Adapter connected to PCB with SOICbite (Click image for Repo link!)
ESP-PROG Adapter Github Repo
One of the things I&#39;ve noticed in maker communities working with MCUs like the ESP32 is how infrequently hobbyists include JTAG in their projects.
This is understandable, since I didn&#39;t start including it on my own hobby projects until I started working in embedded SwE. Plus, the process of figuring out how to set it up and get the pinout right can be kind of daunting."/>


    
    
    
    

    
    
    <link rel="stylesheet" href="http://localhost:1313/scss/main.min.f823acd0b40c9627cee16e4f8bd3272fbf36df3abe4a34e2161c9989e694477e.css" integrity="sha256-&#43;COs0LQMlifO4W5Pi9MnL7823zq&#43;SjTiFhyZieaUR34=" crossorigin="anonymous" media="screen">
	<link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet" href="http://localhost:1313/css/block.css">
</head>

  
</head>
<body>
  <span class="mobile btn-mobile-menu">

    <i class="fa fa-list btn-mobile-menu__icon"></i>
    <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>

  </span>

  <header class="  panel-cover panel-cover--collapsed " style="background-image: url('/images/background-cover.jpg')">

    <div class="panel-main">
  
      <div class="panel-main__inner panel-inverted">
      <div class="panel-main__content">
  
          <a href="/" title="Homepage of Jacob Bokor " class="blog-button"><img src="/images/avatar.jpg" width="80" alt="Jacob Bokor logo" class="panel-cover__logo logo" /></a>
          <h1 class="panel-cover__title panel-title"><a href="/#blog" title="Homepage of Jacob Bokor" class="blog-button">Jacob Bokor</a></h1>
          
          <hr class="panel-cover__divider" />
          <p class="panel-cover__description">Engineer &amp; Student fascinated with embedded systems, low-level software, and everything to do with the hardware-software interface.</p>
          <hr class="panel-cover__divider panel-cover__divider--secondary" />
          
          
          
          <div class="navigation-wrapper">
            <div>
              <nav class="cover-navigation cover-navigation--primary">
                <ul class="navigation">
                  <li class="navigation__item"><a href="/#blog" title="Blog" class="blog-button">Blog</a></li>
                  
                    <li class="navigation__item"><a href="https://github.com/0xjmux" target="_blank" title="Projects">Projects</a></li>
                  
                    <li class="navigation__item"><a href="/tags/" target="_blank" title="Tags">Tags</a></li>
                  
                </ul>
              </nav>
            </div>
            
            <div><nav class="cover-navigation navigation--social">
    <ul class="navigation">
  
    
  
    
    
    <li class="navigation__item">
      <a href="https://github.com/0xjmux" title="@0xjmux" target="_blank">
        <i class='social fa fa-github'></i>
        <span class="label">Github</span>
      </a>
    </li>
    
    
    

    
    
    <li class="navigation__item">
      <a href="https://www.linkedin.com/in/jacobbokor" title="@jacobbokor" target="_blank">
        <i class='social fa fa-linkedin'></i>
        <span class="label">Linkedin</span>
      </a>
    </li>
    
  
    
  
    
    <li class="navigation__item">
      <a href="/index.xml" rel="author" title="RSS" target="_blank">
        <i class='social fa fa-rss'></i>
        <span class="label">RSS</span>
      </a>
    </li>
  
    
    
    <li class="navigation__item">
      <a href="mailto:jacob%20at%20jacobbokor%20dot%20com" title="Contact me">
        <i class='social fa fa-envelope'></i>
        <span class="label">Email</span>
      </a>
    </li>
    
  
    </ul>
  </nav>
  </div>
          </div>
        </div>
      </div>
      
      
      <div class="panel-cover--overlay cover-slate"></div>
      
    </div>
  </header>
  


  <div class="content-wrapper">
    <div class="content-wrapper__inner">

        
<article class="post-container post-container--single" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
        <div class="post-meta">
            <time datetime=" 2024-03-01 10:17:11 -0800 " itemprop="datePublished" class="post-meta__date date">2024-03-01</time>
             <span class="post-meta__tags tags">   • <a href="http://localhost:1313/tags/blog">Blog</a>   • <a href="http://localhost:1313/tags/jtag">JTAG</a>   • <a href="http://localhost:1313/tags/pcb">PCB</a>   • <a href="http://localhost:1313/tags/hardware">Hardware</a>  </span> 
        </div>
        <h1 class="post-title">JTAG for the ESP made as Easy as Possible</h1>
    </header>
    <section class="post">
        <figure><a href="https://github.com/0xjmux/ESP-PROG-Adapter"><img src="files/adapter_soicbite_connected.jpg"
         alt="Adapter connected to PCB with SOICbite (Click image for Repo link!)" width="80%"/></a><figcaption>
            <p>Adapter connected to PCB with SOICbite (Click image for Repo link!)</p>
        </figcaption>
</figure>

<blockquote>
<p><a href="https://github.com/0xjmux/ESP-PROG-Adapter">ESP-PROG Adapter Github Repo</a></p>
</blockquote>
<p>One of the things I've noticed in maker communities working with MCUs like the ESP32 is how infrequently hobbyists include JTAG in their projects.</p>
<p>This is understandable, since I didn't start including it on my own hobby projects until I started working in embedded SwE. Plus, the process of figuring out how to set it up and get the pinout right can be kind of daunting.</p>
<p>I won't go into the history here but if you haven't heard of JTAG before think of it as a standardized set of pins that let you use a debugger with embedded firmware. You can program the board, step through the code instruction by instruction, check variable and register values, and more. It's really cool, and incredibly useful for embedded software development.</p>
<p>This whole project began because I needed a <a href="https://github.com/0xjmux/ESP-PROG-Adapter">JTAG adapter</a> for debugging one of my own PCBs, and wanted to go with the industry standard, Segger's J-Link. Unfortunately, Segger discontinued the J-Link EDU (which I needed instead of the Mini because of its support for the Xtensa LX7 architecutre used on the ESP32), so I had to go looking for another JTAG adapter.</p>
<p>After trying out a few options I gave Espressif's <a href="https://docs.espressif.com/projects/espressif-esp-iot-solution/en/latest/hw-reference/ESP-Prog_guide.html">ESP-Prog</a> a try, and was pleasantly surprised. Here was a ~$12 Board with a small form factor and dual UART and JTAG interfaces running on the very well supported FT2232HL chip. It's supported by OpenOCD and GDB, and works right in VSCode. You can easily switch between 3.3 and 5V with a couple of jumpers, with BOOT and RST pins that make working with ESP chips a breeze.</p>
<p>Around the same time I also started playing with component-less debugging connectors. Finding <a href="https://www.tag-connect.com/">Tag-Connect</a> while doing research for a project sparked my interest, but because of the cost I looked at other options. <a href="https://hackaday.com/2016/02/08/local-hacker-discovers-card-edge-connectors/">PCB Card edge connectors</a> looked promising, but then I came across the very cool <a href="https://hackaday.com/2019/06/13/soicbite-a-program-debug-connector-for-an-soic-test-clip/">SOICbite connector</a> and decided to go with that.</p>
<p>However, connecting any of these cables to a JTAG adapter was a mess of dupont cables with inevitable wiring issues, which meant manually checking all the pin mappings every time there was an issue instead of debugging the code I needed to work on. Plus, these connectors had their own standardized pinouts that were somewhat different from the ones used on debug boards, which means you can't just plug them directly into your JTAG debugger.</p>
<p>Having been inspired by Fescron's fantastic <a href="https://github.com/Fescron/universal-jlink-adapter/tree/master">Universal J-Link adapter</a>, I set out to make my own adapter to get rid of the cable mess from connecting the cables manually. A couple iterations later, I finally had something I was happy with.</p>
<figure><img src="files/adapter_v1.3_on_espprog_iso.jpg" width="500"/>
</figure>

<p><!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p>After using it for a week, I realized how helpful something like this would be in making JTAG easier to approach for beginners. Simon Merrett's <a href="https://github.com/SimonMerrett/SOICbite">SOICbite</a> fits the bill as a very affordable component-less connector which I had already created a JTAG pinout and Kicad symbols for. With those symbols and the ESP-Prog with adapter, component-less plug-and-play programming and debugging on the ESP32 can be had for less than $30.</p>
<p><img alt="Image of my kicad symbols for using the adapter" src="/posts/esp-jtag-adapter/files/SymbolConnectionExamples.png"></p>
<p>So, I wrote it up to make it as easy to use as I could, and released everything under the permissive CERN OHL license. The Gerbers and schematic are available <a href="https://github.com/0xjmux/ESP-PROG-Adapter/releases/latest">on the Github repo under releases</a>, and the 5 or so parts you need for the adapter are listed <a href="https://github.com/0xjmux/ESP-PROG-Adapter?tab=readme-ov-file#components">in the README with corresponding LCSC Part numbers</a>.</p>
<p>The schematic contains any info you might need about using the adapter, but basically all the information you need should be on the adapter itself. There are some other fun touches like a UART loopback SOICbite connector on the adapter itself, which lets you test the functioning of your modified chip, plus reversible UART with jumpers, so a mistake with the TX-RX lines on your PCB won't get in the way of your debugging experience.</p>
<p>I considered selling the adapter board somewhere like Tindie, but it's such a simple board and the people that would be using it are already producing their own hardware designs, so you can just tack the PCBs and few components onto your next PCB order.</p>
<p>Enjoy!   -   <a href="https://github.com/0xjmux/ESP-PROG-Adapter">ESP-PROG Adapter Github Repo</a></p>
<hr>
<p>If you found the work I put into this valuable, I'd appreciate if you could buy me a coffee so I can continue devoting time to extensively documenting my projects like this.
<a href="https://ko-fi.com/S6S6UPC2G"><img alt="ko-fi" src="https://ko-fi.com/img/githubbutton_sm.svg"></a></p>

    </section>
</article>
<section class="read-more">
    


    
    <div class="read-more-item">
        <span class="read-more-item-dim">Earlier</span>
        <h2 class="post-list__post-title post-title"><a href="/posts/hello-world/" title="link to Hello, World!">Hello, World!</a></h2>
        <p class="excerpt">Welcome to my new website! My old one hadn't been updated in *checks notes* nearly 8 years, so it was definitely time for a refresh.
I've included some stuff I've written in the previous year, along with links to my Github - I usually try to do a …&hellip;</p>
        <div class="post-list__meta">
            <time datetime=" 2024-03-01 10:17:11 -0800" class="post-list__meta--date date">2024-01-10</time>
             
            <span class="post-list__meta--tags tags"> 
                  • <a href="http://localhost:1313/tags/blog">Blog</a>  
            </span>
            
            <a class="btn-border-small" href="/posts/hello-world/">Continue</a>
        </div>
    </div>
    
 </section>
  
<section class="post-comments">
    

    
    
  </section>
  

        <section class="footer">
    <footer>
        <span class="footer__copyright">This site is licensed under a <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> license.</span>
        <span class="footer__copyright">Generated by <a href="https://gohugo.io/">Hugo</a> at 2024-03-01, themed with <a href="https://github.com/xslingcn/vno-hugo"> Vno - Hugo</a>.</span>
    </footer>
</section>

    </div>
  </div>

  <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script><script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'your_ga_id', 'your_host');
    ga('send', 'pageview');
</script>

  
</body>

